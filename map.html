<!DOCTYPE html>
<html>
  <head>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 75%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <h3>FSA Volume Demo</h3>
    <div id="map"></div>
    <script>

    var map;
    var L4Y_infoWindow;

    function showVolume(event){
        var FSA = this.Name;
        var parcel_volume = this.Volume;
        var pt = event.latLng;
        var contentString = '<b>FSA: </b>' + FSA + '<br>' + '<b>Volume: </b>' + parcel_volume + '<br>' + '<b>Clicked Location: </b>' + pt;

        L4Y_infoWindow.setContent(contentString);
        L4Y_infoWindow.open(map);
        L4Y_infoWindow.setPosition(pt);
    }

    function initMap() {
        var center_point = {lat: 43.653153, lng: -79.383998};
         map = new google.maps.Map(document.getElementById('map'), {
          zoom: 11,
          center: center_point
        });
        var marker = new google.maps.Marker({
          position: center_point,
          map: map
        });
                // Define the LatLng coordinates for the polygon's path.
        var FSA_L4Y_coord = [
          {lat: 43.622601, lng: -79.602596}, 
          {lat: 43.597919, lng: -79.567297},
          {lat: 43.583516, lng: -79.583103},
          {lat: 43.607727, lng: -79.618762},
          {lat: 43.622601, lng: -79.602596}
        ];

        // Construct the polygon.
        var FSA_L4Y = new google.maps.Polygon({
          paths: FSA_L4Y_coord,
          strokeColor: '#FF0000',
          strokeOpacity: 0.8,
          strokeWeight: 2,
          fillColor: '#FF0000',
          fillOpacity: 0.35,
          Name: "L4Y",
          Volume: 400
        });
        FSA_L4Y.setMap(map);

        //Mouseover event 
        google.maps.event.addListener(FSA_L4Y, 'mouseover', function (event) {
                    // Within the event listener, "this" refers to the polygon which
                    // received the event.
                    this.setOptions({
                        strokeColor: '#ff0000',
                        strokeWeight: 5,
                        fillColor: '#ff0000'
                    });
                });
        //Listen for when the mouse stops hovering the polygon.
        google.maps.event.addListener(FSA_L4Y, 'mouseout', function (event) {
                    this.setOptions({
                        strokeColor: '#ff0000',
                        strokeWeight: 2,
                        fillColor: '#ff0000'
                    });
                });
        //Listen for clicking action to the polygon.
        FSA_L4Y.addListener('click', showVolume);
        L4Y_infoWindow = new google.maps.InfoWindow;
    }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA_f2zmzkYISBNqUpxsapBPMxrkfnd6rZo&callback=initMap">
    </script>
  </body>
</html>